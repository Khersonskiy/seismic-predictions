<!DOCTYPE html>
<!-- Fixed: modal variable name typo in showPrediction function -->
<!-- FIXED: modal is now correct variable name -->
<html lang="uk">
<head>
  <!-- v1.1 FIXED -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Seismic –ü–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="main-container">
    <div class="header">
      <h1 class="title">üîÆ Seismic –ü–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è</h1>
      <p class="subtitle">–û–±–µ—Ä–∏ –∫–∞—Ä—Ç—É —Ç–∞ –æ—Ç—Ä–∏–º–∞–π —Å–≤–æ—å–æ –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è!</p>
    </div>

    <div id="cards-container" class="cards-container"></div>

    <div id="prediction-modal" class="prediction-modal hidden">
      <div class="modal-content">
        <button class="close-btn" onclick="closePrediction()">√ó</button>
        <div class="modal-card">
          <div class="card-visual"></div>
        </div>
        <div class="prediction-text" id="prediction-text"></div>
        <div class="action-buttons">
          <button class="btn btn-copy" onclick="copyPrediction()">Skopiyuvaty</button>
          <button class="btn btn-twitter" onclick="tweetPrediction()">Repostnyty u Twitter</button>
        </div>
      </div>
    </div>
  </div>

  <script src="predictions.js"></script>
  <script>
    const CARD_COUNT = 5;
    const COLORS = ['#9d6b8a', '#a87699', '#b38ba6', '#8d5a7e', '#ad7b96'];
    let selectedPrediction = '';

    function initCards() {
      const container = document.getElementById('cards-container');
      container.innerHTML = '';
      for (let i = 0; i < CARD_COUNT; i++) {
        const card = document.createElement('div');
        card.className = 'card';
        card.style.backgroundColor = COLORS[i];
        card.innerHTML = `<div class="card-number">${i + 1}</div>`;
        card.onclick = () => showPrediction(i);
        container.appendChild(card);
      }
    }

    function getRandomPrediction() {
      return predictions[Math.floor(Math.random() * predictions.length)];
    }

    function showPrediction(cardIndex) {
      selectedPrediction = getRandomPrediction();
      const modal = document.getElementById('prediction-modal');
      const textEl = document.getElementById('prediction-text');
      const cardVisual = modal.querySelector('.card-visual');

      textEl.textContent = selectedPrediction;
      cardVisual.style.backgroundColor = COLORS[cardIndex];
      modal.classList.remove('hidden');
    }

    function closePrediction() {
      document.getElementById('prediction-modal').classList.add('hidden');
    }

    function copyPrediction() {
      const text = selectedPrediction + '\n\nüîÆ Seismic Predictions - https://github.com/Khersonskiy/seismic-predictions';
      navigator.clipboard.writeText(text).then(() => {
        alert('–ö–æ–ø—ñ—é–≤–∞–Ω–æ!');
      });
    }

    function tweetPrediction() {
      const text = selectedPrediction + ' üîÆ #Seismic #Predictions';
      const tweetUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
      window.open(tweetUrl, '_blank');
    }

    initCards();
  </script>
</body>
</html>
